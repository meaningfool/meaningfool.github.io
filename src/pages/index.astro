---
import Header from '../components/Header.astro';
import Layout from '../layouts/Layout.astro';
import ArticlesList from '../components/ArticlesList.astro';
import JsonLd from '../components/JsonLd.astro';
import { getCollection, type CollectionEntry } from 'astro:content';

const articles: CollectionEntry<'writing'>[] = await getCollection('writing');

// Sort articles by date (most recent first)
const sortedArticles = articles.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());

// JSON-LD structured data for WebSite
const websiteSchema = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "meaningfool",
  "url": "https://meaningfool.net",
  "publisher": {
    "@type": "Person",
    "name": "Josselin Perrus"
  }
};
---

<Layout>
	<JsonLd data={websiteSchema} />
	<Header />
	<main id="main" class="container">
		<section id="about">
			<p>👋 Hey, I'm Josselin.</p>
			<p>🥐 I'm a product person based in Paris.</p>
			<p>✒️ I write about product and my journey towards AI-assisted programming.</p>
			<p>📖 I'm <a href="https://www.swyx.io/learn-in-public">learning in public</a> and documenting the work on my projects,and my learnings (challenges, readings, thoughts, etc.)</p>
			<p>🏗️ This very site was built with the help of Claude Code, and my writing / publishing workflow is AI-assisted.</p>
		</section>

		<section id="articles" aria-labelledby="articles-title">
			<h1 id="articles-title" class="section-title">Articles</h1>
			<ArticlesList articles={sortedArticles} />
		</section>
	</main>
</Layout>


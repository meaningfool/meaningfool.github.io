---
import Header from '../components/Header.astro';
import Layout from '../layouts/Layout.astro';
import ArticlesList from '../components/ArticlesList.astro';
import { getCollection, type CollectionEntry } from 'astro:content';

const articles: CollectionEntry<'writing'>[] = await getCollection('writing');

// Sort articles by date (most recent first)
const sortedArticles = articles.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<Layout>
	<Header />
	<main id="main" class="container">
		<section id="about">
			<p>👋 I'm Josselin. I'm a product person.</p>
			<p>🏗️ I'm on a journey towards AI-assisted programming.</p>
			<p>📖 I'm doing that with a <a href="https://www.swyx.io/learn-in-public">learn in public</a> approach. I write about product, AI and projects</p>
		</section>

		<section id="articles" aria-labelledby="articles-title">
			<h1 id="articles-title" class="section-title">Articles</h1>
			<ArticlesList articles={sortedArticles} />
		</section>
	</main>
</Layout>

